var D=Object.defineProperty;var st=Object.getOwnPropertyDescriptor;var lt=Object.getOwnPropertyNames;var ft=Object.prototype.hasOwnProperty;var at=(e,r)=>{for(var o in r)D(e,o,{get:r[o],enumerable:!0})},pt=(e,r,o,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of lt(r))!ft.call(e,n)&&n!==o&&D(e,n,{get:()=>r[n],enumerable:!(i=st(r,n))||i.enumerable});return e};var yt=e=>pt(D({},"__esModule",{value:!0}),e);var gt={};at(gt,{hijackArray:()=>tt,hijackPlayCanvas:()=>mt});module.exports=yt(gt);var bt=Math.PI*2;function K(e,[r,o,i]){let[n,a,f]=e;return new e.constructor(new n.constructor(n.x*r.x+a.x*r.y+f.x*r.z,n.y*r.x+a.y*r.y+f.y*r.z,n.z*r.x+a.z*r.y+f.z*r.z),new n.constructor(n.x*o.x+a.x*o.y+f.x*o.z,n.y*o.x+a.y*o.y+f.y*o.z,n.z*o.x+a.z*o.y+f.z*o.z),new n.constructor(n.x*i.x+a.x*i.y+f.x*i.z,n.y*i.x+a.y*i.y+f.y*i.z,n.z*i.x+a.z*i.y+f.z*i.z))}function W(e,{x:r,y:o,z:i}){let[n,a,f]=e;return new n.constructor(n.x*r+a.x*o+f.x*i,n.y*r+a.y*o+f.y*i,n.z*r+a.z*o+f.z*i)}function Y(e,[r,o,i]){return new e.constructor(e.dot(r),e.dot(o),e.dot(i))}function Z(e,[r,o,i,n]){return new e.constructor(e.dot(r),e.dot(o),e.dot(i),e.dot(n))}function y(e){return typeof e=="number"||(e==null?void 0:e.constructor)===Number}var P=0,I=1,Q=2,H=3,A=9999999999999,C=void 0,$=Symbol("vector length"),S=Symbol("get source"),B=Symbol("checked"),d=C,O,E,ht=[0,1,2,6,24,120,720,5760,51840,518400,5702400,68428800,889574400,12454041600,186810624e3],G=[],w=-1,N=!1,k=[];function _(e,r,o){d=e,w=-1,E=1;let i=r(o);if(!y(i))throw new Error(`
      your assigned progress did not not return a primitive!
      calc() does not support logical operators (|| && ==) directly

      instead of calc(() => v1 || v2);
      use        calc(() => +v1 || +v2);

      instead of calc(() => v1);
      use        calc(v1);
      `);return i}function F(e){let r=e[S];return r?r(e).length:e[$]||3}function dt(e,r){return F(e)>F(r)?e:r}function wt(e,r){if(E+=1,r===A)return E;if(r>=F(e))return 0;let o=e[S];if(o)return 1*o(e)[r];if(r===P)return 1*e.x;if(r===I)return 1*e.y;if(r===Q)return 1*e.z;if(r===H)return 1*e.w}function X(e,r,o){let i=e[S];if(i){i(e)[r]=o;return}if(r===P){e.x=o;return}if(r===I){e.y=o;return}r===Q&&(e.z=o),r===H&&(e.w=o)}function M(e,r){if(typeof e!="function")throw new Error("no function assigned");if(d!==C)throw new Error("something wrong, do you use calc() inside calc?");try{let o=typeof r>"u",i=typeof r=="function",n=!i&&!o?r:void 0,a=_(P,e,n);if(o&&typeof O>"u")return a;let f=O?F(O):0;if(f===A){if(!e[B]){let h=_(A,e),x=ht[E];if(Math.abs(h-x)>Number.EPSILON)throw new Error(`
            algebraic multiplication works only in calls with *

            calc(() => v * m);
            calc(() => m * v);
            calc(() => m * m);
            calc(() => m * m * v);

            `);e[B]=!0}let p=G[0];for(let h=1;h<E-1;h+=1){let x=G[h];if(!p.multiply)throw new Error(`cannot find method multiply() on ${p}`);p=p.multiply(x)}return p}let b=i?r.length:f;if(b||(b=f),b<f)throw new Error("Your assigned result Vector cant use higher space Operands than it has");let g=new Array(b);g[0]=a,n&&X(n,d,g[0]);for(let p=1;p<b;p+=1){let h=_(p,e,n);g[p]=h,n&&X(n,d,h)}return o?new O.constructor(...g):i?r(...g):n}finally{d=C,O=void 0}}function m(e,r){let o=e.prototype;o[S]=r;let i="valueOf",n=o[i];o[i]=function(){return d===P&&(O=O?dt(O,this):this,G[E-1]=this),d===C?n.call(this):wt(this,d)}}function J(e){return function(...r){if(d===P){if(N)return e.apply(this,r);try{N=!0,w+=1;let o=e.apply(this,r);return k[w]=o,o}finally{N=!1}}return d===I||d===Q||d===H?(w+=1,k[w]):e.apply(this,r)}}function j(e,r){let o=e.prototype;Object.defineProperty(o,$,{value:r})}function R(e){j(e,A)}function q(e){return J((...r)=>new e(...r))}function T(e){return J(e)}var tt=e=>{let{prototype:r}=e;Object.defineProperty(r,"x",{get(){return this[0]||0},set(o){this[0]=o},configurable:!0}),Object.defineProperty(r,"y",{get(){return this[1]||0},set(o){this[1]=o},configurable:!0}),Object.defineProperty(r,"z",{get(){return this[2]||0},set(o){this[2]=o},configurable:!0}),m(e),Object.defineProperty(r,"len",{get(){return(this[0]**2+this[1]**2+this[2]**2)**(1/2)},set(){throw new Error("set len not allowed")},configurable:!0})};function mt(e){let{Vec2:r,Vec3:o,Vec4:i,Quat:n,Mat3:a,Mat4:f,math:b}=e,{LEFT:g,FORWARD:p,UP:h,RIGHT:x,ZERO:et}=o,{RAD_TO_DEG:V,DEG_TO_RAD:rt}=b;r.prototype.valueOf=function(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")},o.prototype.valueOf=function(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")},o.prototype.multiply=function(t){return Y(this,t)},i.prototype.valueOf=function(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")},i.prototype.multiply=function(t){return Z(this,t)},a.prototype.valueOf=function(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")},f.prototype.valueOf=function(){throw new Error("valueOf() not implemented, looks like you try to calculate outside of calc")},m(r),j(r,2);let ot=q(r);e.vec2=(t,s)=>typeof t=="function"?M(t,new r):ot(t,s),m(o),j(o,3);let nt=q(o);e.vec3=(t,s,c)=>typeof t=="function"?M(t,new o):nt(t,s,c),m(i),j(i,4);let it=q(i);e.vec4=(t,s,c,u)=>typeof t=="function"?M(t,new i):it(t,s,c,u),e.calc=M,Object.defineProperty(n.prototype,"left",{get(){return this.transformVector(g,new o)},set(){throw new Error("set left not allowed")}}),Object.defineProperty(n.prototype,"dir",{get(){return this.transformVector(p,new o)},set(){throw new Error("set dir not allowed")}}),Object.defineProperty(n.prototype,"up",{get(){return this.transformVector(h,new o)},set(){throw new Error("set up not allowed")}}),Object.defineProperty(n.prototype,"inverse",{get(){return this.clone().invert()},set(){throw new Error("set inverse not allowed")}}),e.quat=T((t,s,c,u)=>y(t)?new n(t,s,c,u):t?y(s)?new n().setFromAxisAngle(t,s*V):new n().setFromMat4(new f().setLookAt(et,t,s||h)):new n),e.cross=T((t,s)=>new o().cross(t,s)),e.rotate=T((t,s,c)=>e.quat(s,c).multiply(t)),e.deg=t=>t*rt,n.prototype.multiplyQuaternion=function(t){return this.clone().mul(t)},n.prototype.multiply=function(t,s,c,u){return t&&y(t.w)?this.multiplyQuaternion(t):this.multiplyQuaternion(e.quat(t,s,c,u))},m(n),R(n);let ct=e.quat(g,90);n.prototype.setFromOrientation=function({alpha:t,beta:s,gamma:c},u){let l=e.quat(h,t*V).multiply(x,s*V).multiply(p,c*V).multiply(ct);return u&&(l=e.quat(l.dir,u*V).multiply(l)),this.copy(l),this},Object.defineProperty(o.prototype,"len",{get(){return this.length()},set(){throw new Error("set len not allowed")}}),Object.defineProperty(r.prototype,"len",{get(){return this.length()},set(){throw new Error("set len not allowed")}}),Object.defineProperty(i.prototype,"len",{get(){return this.length()},set(){throw new Error("set len not allowed")}}),a.prototype.multiply=function(t){return t&&y(t.z)?W(t):K(this,t)},a.prototype[Symbol.iterator]=function(){return[this[0],this[1],this[2]].values()},Object.defineProperty(a.prototype,0,{get(){let{data:t}=this;return new o(t[0],t[1],t[2])},set({x:t,y:s,z:c}){let{data:u}=this;u[0]=t,u[1]=s,u[2]=c}}),Object.defineProperty(a.prototype,1,{get(){let{data:t}=this;return new o(t[3],t[4],t[5])},set({x:t,y:s,z:c}){let{data:u}=this;u[3]=t,u[4]=s,u[5]=c}}),Object.defineProperty(a.prototype,2,{get(){let{data:t}=this;return new o(t[6],t[7],t[8])},set({x:t,y:s,z:c}){let{data:u}=this;u[6]=t,u[7]=s,u[8]=c}}),Object.defineProperty(f.prototype,0,{get(){let{data:t}=this;return new i(t[0],t[1],t[2],t[3])},set({x:t,y:s,z:c,w:u}){let{data:l}=this;l[0]=t,l[1]=s,l[2]=c,l[3]=u}}),Object.defineProperty(f.prototype,1,{get(){let{data:t}=this;return new i(t[4],t[5],t[6],t[7])},set({x:t,y:s,z:c,w:u}){let{data:l}=this;l[4]=t,l[5]=s,l[6]=c,l[7]=u}}),Object.defineProperty(f.prototype,2,{get(){let{data:t}=this;return new i(t[8],t[9],t[10],t[11])},set({x:t,y:s,z:c,w:u}){let{data:l}=this;l[8]=t,l[9]=s,l[10]=c,l[11]=u}}),Object.defineProperty(f.prototype,3,{get(){let{data:t}=this;return new i(t[12],t[13],t[14],t[15])},set({x:t,y:s,z:c,w:u}){let{data:l}=this;l[12]=t,l[13]=s,l[14]=c,l[15]=u}}),f.prototype.multiply=function(t){return t&&y(t.w)?this.transformVec4(t):new f().mul2(this,t)},a.prototype[Symbol.iterator]=function(){return[this[0],this[1],this[2],this[2]].values()},m(a),R(a),m(f),R(f);class L extends a{constructor(...s){var u;super();let[c]=s;if(y(c))for(let l=0;l<9;l+=1)this.data[l]=c;else y((u=c[0])==null?void 0:u.w)?[c[0],c[1],c[2]].forEach(({x:l,y:z,z:v},ut)=>{this[ut]=new o(l,z,v)}):s.forEach((l,z)=>{this[z]=l})}}class U extends f{constructor(...s){super();let[c]=s;if(y(c))for(let u=0;u<16;u+=1)this.data[u]=c;else c[0]&&y(c[0].x)&&!y(c[0].w)?[c[0],c[1],c[2]].forEach(({x:u,y:l,z},v)=>{this[v]=new i(u,l,z,0)}):s.forEach((u,l)=>{this[l]=u})}}e.Mat3=L,e.Mat4=U,e.mat3=(...t)=>new L(...t),e.mat4=(...t)=>new U(...t)}
//# sourceMappingURL=playcanvas.cjs.map
